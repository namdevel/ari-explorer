import{_ as B,a as D}from"./CZN2jQzQ.js";import{g as P,h as v,l as A,E as N,c,o as p,a as t,d as T,t as n,j as i,F as C,r as M,N as S,S as I,P as R,b as $}from"./jBqvOCDX.js";import{d as V,c as W,a as z}from"./Bekq4zxL.js";import{_ as q}from"./DlAUqK2U.js";import"./BPBCcK3Z.js";const G={class:"max-w-4xl mx-auto ari-block text-white"},H={class:"text-sm text-center text-gray-400"},L={class:"text-[#F44E6E]"},O={class:"max-w-4xl mx-auto ari-block p-4 rounded-lg"},J={class:"grid grid-cols-1 gap-4"},K={class:"flex justify-between"},Q={class:"text-sm font-semibold"},U={class:"flex justify-between"},X={class:"text-[#F44E6E] text-sm font-semibold"},Y={class:"flex justify-between"},Z={class:"text-sm font-semibold"},tt={class:"w-full"},st={class:"w-full table-fixed border ari-border rounded-lg ari-block text-white border-collapse"},et={class:"py-3 px-4 border-b ari-border text-sm md:text-base"},ot=["title","onClick"],at={class:"text-gray-400 text-xs"},nt={class:"py-3 px-4 border-b ari-border text-sm md:text-base"},it=["onClick"],rt={class:"text-gray-400 text-xs"},lt={key:0,class:"py-3 px-4 border-b ari-border text-sm md:text-base"},dt=["onClick"],ct=["title","onClick"],pt={key:1,class:"py-3 px-4 border-b ari-border text-sm md:text-base"},bt=["onClick"],ut=["title","onClick"],_t={class:"py-3 px-4 border-b ari-border text-center text-sm md:text-base"},mt={class:"text-gray-400 text-xs"},xt={class:"flex justify-center items-center mt-4 space-x-1"},ft=["disabled"],vt=["disabled"],yt=["onClick"],gt=["disabled"],ht=["disabled"],m=10,g=2,kt={__name:"dapptrx",props:{dapp_name:String,details:Object},setup(w){const b=w,u=P(),_=v([]),r=v(1),l=v(0);async function d(o){if(!b.dapp_name)return;const e=(o-1)*m,s=`https://ari-explorer.lupa.pw/api/dapp/${b.dapp_name}/transactions?start=${e}&limit=${m}`;try{const a=await $fetch(s,{method:"GET"});a.transaction_count&&(_.value=a.transaction_list||[],l.value=a.transaction_count||0)}catch(a){console.error("Error fetching data:",a)}}A(()=>d(r.value));function x(o){const e=Math.ceil(l.value/m);o>=1&&o<=e&&(r.value=o,d(o))}const h=N(()=>{const o=Math.ceil(l.value/m),e=Math.floor(g/2);let s=Math.max(r.value-e,1),a=Math.min(s+g-1,o);return a-s+1<g&&(s=Math.max(a-g+1,1)),Array.from({length:a-s+1},(wt,F)=>s+F)});function f(o){return o.includes("ARW")?o.slice(0,6)+o.slice(-6)+"...":o}function k(o){return o.slice(0,4)+o.slice(-4)+"..."}const E=o=>{W(u,o)},y=o=>{z(u,o)},j=o=>{V(u,o)};return(o,e)=>(p(),c(C,null,[t("div",null,[t("div",null,[t("div",G,[e[6]||(e[6]=t("h5",{class:"text-xl ari-text font-semibold mb-4 text-center pt-4"}," DApp Details ",-1)),t("p",H,[e[4]||(e[4]=T("Total of ")),t("strong",L,n(i(l)),1),e[5]||(e[5]=T(" Transactions"))])])]),t("div",O,[t("div",J,[t("div",K,[e[7]||(e[7]=t("span",{class:"text-gray-400 text-sm"},"Token",-1)),t("span",Q,n(b.details.token),1)]),t("div",U,[e[8]||(e[8]=t("span",{class:"text-gray-400 text-sm"},"Supply",-1)),t("span",X,n(b.details.supply),1)]),t("div",Y,[e[9]||(e[9]=t("span",{class:"text-gray-400 text-sm"},"Info",-1)),t("span",Z,n(b.details.info),1)])])])]),t("div",null,[t("div",tt,[t("table",st,[e[10]||(e[10]=t("thead",{class:"ari-block"},[t("tr",null,[t("th",{class:"py-3 px-4 border-b ari-border text-left text-sm md:text-base"},"Txn Hash / Method"),t("th",{class:"py-3 px-4 border-b ari-border text-left text-sm md:text-base"},"Block / Age"),t("th",{class:"py-3 px-4 border-b ari-border text-left text-sm md:text-base"},"From / To"),t("th",{class:"py-3 px-4 border-b ari-border text-center text-sm md:text-base"},"Amount / Coin")])],-1)),t("tbody",null,[(p(!0),c(C,null,M(i(_),s=>(p(),c("tr",{key:s.tx_id,class:"hover:bg-[#29292b] transition duration-200"},[t("td",et,[t("div",{title:s.tx_id,onClick:a=>j(s.tx_id)},n(k(s.tx_id)),9,ot),t("div",at,n(s.transaction.type),1)]),t("td",nt,[t("div",{onClick:a=>E(s.block)},n(s.block),9,it),t("div",rt,n(s.diff_date),1)]),s.transaction.type==="join_dapp"||s.transaction.type==="account_update"?(p(),c("td",lt,[t("div",{onClick:a=>y(s.transaction.from)},n(f(s.transaction.from)),9,dt),t("div",{title:s.transaction.dapp,class:"text-gray-400 text-xs",onClick:a=>y(s.transaction.dapp)},n(s.transaction.dapp),9,ct)])):(p(),c("td",pt,[t("div",{onClick:a=>y(s.transaction.from)},n(f(s.transaction.from)),9,bt),t("div",{title:s.transaction.to,class:"text-gray-400 text-xs",onClick:a=>y(s.transaction.to)},n(f(s.transaction.to)),9,ut)])),t("td",_t,[t("div",null,n(parseFloat(s.transaction.amount)?Math.floor(parseFloat(s.transaction.amount)):"-"),1),t("div",mt,n(s.transaction.coin),1)])]))),128))])])]),t("div",xt,[t("button",{onClick:e[0]||(e[0]=s=>x(1)),disabled:i(r)===1,class:"px-3 py-2 ari-block hover:bg-gray-600 disabled:ari-block rounded"},e[11]||(e[11]=[t("i",{class:"fas fa-angle-double-left"},null,-1)]),8,ft),t("button",{onClick:e[1]||(e[1]=s=>x(i(r)-1)),disabled:i(r)===1,class:"px-3 py-2 ari-block hover:bg-gray-600 disabled:ari-block rounded"},e[12]||(e[12]=[t("i",{class:"fas fa-angle-left"},null,-1)]),8,vt),(p(!0),c(C,null,M(i(h),s=>(p(),c("button",{key:s,onClick:a=>x(s),class:S(["px-3 py-2 rounded",i(r)===s?"bg-red-500 text-white":"ari-block hover:bg-gray-600"])},n(s),11,yt))),128)),t("button",{onClick:e[2]||(e[2]=s=>x(i(r)+1)),disabled:i(r)>=Math.ceil(i(l)/m),class:"px-3 py-2 ari-block hover:bg-gray-600 disabled:ari-block rounded"},e[13]||(e[13]=[t("i",{class:"fas fa-angle-right"},null,-1)]),8,gt),t("button",{onClick:e[3]||(e[3]=s=>x(Math.ceil(i(l)/m))),disabled:i(r)>=Math.ceil(i(l)/m),class:"px-3 py-2 ari-block hover:bg-gray-600 disabled:ari-block rounded"},e[14]||(e[14]=[t("i",{class:"fas fa-angle-double-right"},null,-1)]),8,ht)])])],64))}},Ct={style:{"padding-bottom":"50px !important"}},$t={__name:"dapp-detail",setup(w){const b=I();P();const u=v(b.query.dapp||""),_=R({token:"-",supply:"-",info:"-"}),r=v(!1);async function l(){if(r.value=!0,!u.value)return;const d=await $fetch(`https://ari-explorer.lupa.pw/api/dapp_info/${u.value}`);d.overview.token&&(_.token=d.overview.token,_.supply=d.overview.supply,_.info=d.overview.info),r.value=!1}return A(()=>{l()}),(d,x)=>{const h=B,f=kt,k=D;return p(),c("div",Ct,[$(h),$(f,{dapp_name:i(u),details:i(_)},null,8,["dapp_name","details"]),$(k)])}}},jt=q($t,[["__scopeId","data-v-021b28a9"]]);export{jt as default};
