import{_ as j,a as F}from"./CD3KFQ-g.js";import{g as N,h as v,U as B,E as D,c as b,o as m,a as t,d as T,t as n,j as i,F as C,r as M,N as S,S as I,P as R,l as V,b as $}from"./AqF2gkEU.js";import{d as W,c as z,a as q}from"./Bekq4zxL.js";import{_ as G}from"./DlAUqK2U.js";const H={class:"max-w-4xl mx-auto ari-block text-white"},L={class:"text-sm text-center text-gray-400"},O={class:"text-[#F44E6E]"},U={class:"max-w-4xl mx-auto ari-block p-4 rounded-lg"},J={class:"grid grid-cols-1 gap-4"},K={class:"flex justify-between"},Q={class:"text-sm font-semibold"},X={class:"flex justify-between"},Y={class:"text-[#F44E6E] text-sm font-semibold"},Z={class:"flex justify-between"},tt={class:"text-sm font-semibold"},et={class:"w-full"},st={class:"w-full table-fixed border ari-border rounded-lg ari-block text-white border-collapse"},ot={class:"py-3 px-4 border-b ari-border text-sm md:text-base"},at=["title","onClick"],nt={class:"text-gray-400 text-xs"},it={class:"py-3 px-4 border-b ari-border text-sm md:text-base"},lt=["onClick"],rt={class:"text-gray-400 text-xs"},dt={key:0,class:"py-3 px-4 border-b ari-border text-sm md:text-base"},ct=["onClick"],pt=["title","onClick"],bt={key:1,class:"py-3 px-4 border-b ari-border text-sm md:text-base"},mt=["onClick"],ut=["title","onClick"],_t={class:"py-3 px-4 border-b ari-border text-center text-sm md:text-base"},ft={class:"text-gray-400 text-xs"},xt={class:"flex justify-center items-center mt-4 space-x-1"},vt=["disabled"],yt=["disabled"],kt=["onClick"],gt=["disabled"],ht=["disabled"],u=10,k=2,Ct={__name:"token-detail",props:{token_name:String,details:Object},setup(w){const f=N(),r=w;console.log(r.details.symbol_name);const p=v([]),l=v(1),d=v(0);async function c(o){if(!r.details.symbol_name)return;const s=(o-1)*u,e=`https://ari-explorer.lupa.pw/api/token/${r.details.symbol_name}/transactions?start=${s}&limit=${u}`;try{const a=await $fetch(e,{method:"GET"});a.transaction_count&&(p.value=a.transaction_list||[],d.value=a.transaction_count||0)}catch(a){console.error("Error fetching data:",a)}}B(()=>{r.details.symbol_name&&r.details.symbol_name!=="-"&&c(l.value)});function _(o){const s=Math.ceil(d.value/u);o>=1&&o<=s&&(l.value=o,c(o))}const g=D(()=>{const o=Math.ceil(d.value/u),s=Math.floor(k/2);let e=Math.max(l.value-s,1),a=Math.min(e+k-1,o);return a-e+1<k&&(e=Math.max(a-k+1,1)),Array.from({length:a-e+1},(Tt,A)=>e+A)});function x(o){return o.includes("ARW")?o.slice(0,6)+o.slice(-6)+"...":o}function h(o){return o.slice(0,4)+o.slice(-4)+"..."}const E=o=>{z(f,o)},y=o=>{q(f,o)},P=o=>{W(f,o)};return(o,s)=>(m(),b(C,null,[t("div",null,[t("div",null,[t("div",H,[s[6]||(s[6]=t("h5",{class:"text-xl ari-text font-semibold mb-4 text-center pt-4"}," Token Details ",-1)),t("p",L,[s[4]||(s[4]=T("Total of ")),t("strong",O,n(i(d)),1),s[5]||(s[5]=T(" Transactions"))])])]),t("div",U,[t("div",J,[t("div",K,[s[7]||(s[7]=t("span",{class:"text-gray-400 text-sm"},"DApp Name",-1)),t("span",Q,n(r.details.dapp_name),1)]),t("div",X,[s[8]||(s[8]=t("span",{class:"text-gray-400 text-sm"},"Supply",-1)),t("span",Y,n(r.details.supply),1)]),t("div",Z,[s[9]||(s[9]=t("span",{class:"text-gray-400 text-sm"},"Info",-1)),t("span",tt,n(r.details.info),1)])])])]),t("div",null,[t("div",et,[t("table",st,[s[10]||(s[10]=t("thead",{class:"ari-block"},[t("tr",null,[t("th",{class:"py-3 px-4 border-b ari-border text-left text-sm md:text-base"},"Txn Hash / Method"),t("th",{class:"py-3 px-4 border-b ari-border text-left text-sm md:text-base"},"Block / Age"),t("th",{class:"py-3 px-4 border-b ari-border text-left text-sm md:text-base"},"From / To"),t("th",{class:"py-3 px-4 border-b ari-border text-center text-sm md:text-base"},"Amount / Coin")])],-1)),t("tbody",null,[(m(!0),b(C,null,M(i(p),e=>(m(),b("tr",{key:e.tx_id,class:"hover:bg-[#29292b] transition duration-200"},[t("td",ot,[t("div",{title:e.tx_id,onClick:a=>P(e.tx_id)},n(h(e.tx_id)),9,at),t("div",nt,n(e.transaction.type),1)]),t("td",it,[t("div",{onClick:a=>E(e.block)},n(e.block),9,lt),t("div",rt,n(e.diff_date),1)]),e.transaction.type==="join_dapp"||e.transaction.type==="account_update"?(m(),b("td",dt,[t("div",{onClick:a=>y(e.transaction.from)},n(x(e.transaction.from)),9,ct),t("div",{title:e.transaction.dapp,class:"text-gray-400 text-xs",onClick:a=>y(e.transaction.dapp)},n(e.transaction.dapp),9,pt)])):(m(),b("td",bt,[t("div",{onClick:a=>y(e.transaction.from)},n(x(e.transaction.from)),9,mt),t("div",{title:e.transaction.to,class:"text-gray-400 text-xs",onClick:a=>y(e.transaction.to)},n(x(e.transaction.to)),9,ut)])),t("td",_t,[t("div",null,n(parseFloat(e.transaction.amount)?Math.floor(parseFloat(e.transaction.amount)):"-"),1),t("div",ft,n(e.transaction.coin),1)])]))),128))])])]),t("div",xt,[t("button",{onClick:s[0]||(s[0]=e=>_(1)),disabled:i(l)===1,class:"px-3 py-2 ari-block hover:bg-gray-600 disabled:ari-block rounded"},s[11]||(s[11]=[t("i",{class:"fas fa-angle-double-left"},null,-1)]),8,vt),t("button",{onClick:s[1]||(s[1]=e=>_(i(l)-1)),disabled:i(l)===1,class:"px-3 py-2 ari-block hover:bg-gray-600 disabled:ari-block rounded"},s[12]||(s[12]=[t("i",{class:"fas fa-angle-left"},null,-1)]),8,yt),(m(!0),b(C,null,M(i(g),e=>(m(),b("button",{key:e,onClick:a=>_(e),class:S(["px-3 py-2 rounded",i(l)===e?"bg-red-500 text-white":"ari-block hover:bg-gray-600"])},n(e),11,kt))),128)),t("button",{onClick:s[2]||(s[2]=e=>_(i(l)+1)),disabled:i(l)>=Math.ceil(i(d)/u),class:"px-3 py-2 ari-block hover:bg-gray-600 disabled:ari-block rounded"},s[13]||(s[13]=[t("i",{class:"fas fa-angle-right"},null,-1)]),8,gt),t("button",{onClick:s[3]||(s[3]=e=>_(Math.ceil(i(d)/u))),disabled:i(l)>=Math.ceil(i(d)/u),class:"px-3 py-2 ari-block hover:bg-gray-600 disabled:ari-block rounded"},s[14]||(s[14]=[t("i",{class:"fas fa-angle-double-right"},null,-1)]),8,ht)])])],64))}},$t={style:{"padding-bottom":"50px !important"}},wt={__name:"token-detail",setup(w){const f=I(),r=v(f.query.token||""),p=R({dapp_name:"-",symbol_name:"-",supply:"-",info:"-"}),l=v(!1);async function d(){if(l.value=!0,!r.value)return;const c=await $fetch(`https://ari-explorer.lupa.pw/api/token_info/${r.value}`);c.overview.dapp_name&&(p.dapp_name=c.overview.dapp_name,p.supply=c.overview.initial_supply,p.info=c.overview.info,p.symbol_name=c.overview.symbol_name),l.value=!1}return V(()=>{d()}),(c,_)=>{const g=j,x=Ct,h=F;return m(),b("div",$t,[$(g),$(x,{token_name:i(r),details:i(p)},null,8,["token_name","details"]),$(h)])}}},jt=G(wt,[["__scopeId","data-v-e7428f93"]]);export{jt as default};
